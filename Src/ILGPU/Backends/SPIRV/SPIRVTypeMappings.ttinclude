<#@ include file="SPIRVXMLReader.ttinclude"#>
<#
    var typeMap = new Dictionary<string, string>();

    foreach (var kind in grammar.OperandKinds.OperandKinds)
    {
        typeMap[kind.Name] = kind.Category switch
        {
            "Id" => MapIdType(),
            "Literal" => MapLiteralType(kind.Name),
            _ => MapComplexType(kind.Name)
        };
    }
#>
<#
    string MapIdType()
    {
        return "uint";
    }

    string MapLiteralType(string type)
    {
        string paramType = "object";

        switch (type)
        {
            case "LiteralSpecConstantOpInteger":
            case "LiteralInteger":
                paramType = "uint";
                break;
            case "LiteralString":
                paramType = "string";
                break;
            case "LiteralContextDependentNumber":
                paramType = "double";
                break;
            case "LiteralExtInstInteger":
                paramType = "uint";
                break;
        }

        return paramType;
    }

    string MapComplexType(string type)
    {
        //Complex types are generate by SPIRVComplexTypes.tt
        return type;
    }

    bool IsCLSCompliant(string type) =>
        type != "sbyte" && type != "uint" && type != "ulong" && type != "ushort";
#>
